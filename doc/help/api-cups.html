<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<!-- SECTION: Programming -->
<head>
	<title>CUPS API</title>
	<meta name='keywords' content='Programming'>
	<meta name='creator' content='Mini-XML v2.4'>
	<style type='text/css'><!--
	h1, h2, h3, p { font-family: sans-serif; text-align: justify; }
	tt, pre a:link, pre a:visited, tt a:link, tt a:visited { font-weight: bold; color: #7f0000; }
	pre { font-weight: bold; color: #7f0000; margin-left: 2em; }
	span.info { background: #000000; border: solid thin #000000; color: #ffffff; font-size: 80%; font-style: italic; font-weight: bold; white-space: nowrap; }
	h3 span.info { float: right; font-size: 100%; }
	h1.title, h2.title, h3.title { border-bottom: solid 2px #000000; }
	--></style>
</head>
<body>
<!--
  "$Id: api-cups.shtml 6649 2007-07-11 21:46:42Z mike $"

  CUPS API introduction for the Common UNIX Printing System (CUPS).

  Copyright 2007-2008 by Apple Inc.
  Copyright 1997-2006 by Easy Software Products, all rights reserved.

  These coded instructions, statements, and computer programs are the
  property of Apple Inc. and are protected by Federal copyright
  law.  Distribution and use rights are outlined in the file "LICENSE.txt"
  which should have been included with this file.  If this file is
  file is missing or damaged, see the license at "http://www.cups.org/".
-->

<div class='summary'><table summary='General Information'>
<thead>
<tr>
	<th>Header</th>
	<th>cups/cups.h</th>
</tr>
</thead>
<tbody>
<tr>
	<th>Library</th>
	<td>-lcups</td>
</tr>
<tr>
	<th>See Also</th>
	<td>Programming: <a href='api-overview.html'>Introduction to CUPS Programming</a><br>
	Programming: <a href='api-httpipp.html'>HTTP and IPP APIs</a><br>
	Programming: <a href='api-ppd.html'>PPD API</a><br>
	Programming: <a href='api-raster.html'>Raster API</a></td>
</tr>
</tbody>
</table></div>

<h2 class='title'><a name='OVERVIEW'>Overview</a></h2>

<p>The CUPS API provides the convenience functions needed to support
applications, filters, printer drivers, and backends that need to interface
with the CUPS scheduler.</p>

<h3><a name='PRINTERS_AND_CLASSES'>Printers and Classes</a></h3>

<p>Printers and classes (collections of printers) are accessed through
the <a href="#cups_dest_t"><code>cups_dest_t</code></a> structure which
includes the name (<code>name</code>), instance (<code>instance</code> -
a way of selected certain saved options), and the options and attributes
associated with that destination (<code>num_options</code> and
<code>options</code>). Destinations are created using the
<a href="#cupsGetDests"><code>cupsGetDests</code></a> function and freed
using the <a href='#cupsFreeDests'><code>cupsFreeDests</code></a> function.
The <a href='#cupsGetDest'><code>cupsGetDest</code></a> function finds a
specific destination for printing:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

<a href='#cups_dest_t'>cups_dest_t</a> *dests;
int num_dests = <a href='#cupsGetDests'>cupsGetDests</a>(&amp;dests);
<a href='#cups_dest_t'>cups_dest_t</a> *dest = <a href='#cupsGetDest'>cupsGetDest</a>("name", NULL, num_dests, dests);

/* do something wiith dest */

<a href='#cupsFreeDests'>cupsFreeDests</a>(num_dests, dests);
</pre>

<p>Passing <code>NULL</code> to
<a href='#cupsGetDest'><code>cupsGetDest</code></a> for the destination name
will return the default destination. Similarly, passing a <code>NULL</code>
instance will return the default instance for that destination.</p>

<div class='table'><table summary='Table 1: Printer Attributes' width='80%'>
<caption>Table 1: <a name='TABLE1'>Printer Attributes</a></caption>
<thead>
<tr>
	<th>Attribute Name</th>
	<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
	<td>"auth-info-required"</td>
	<td>The type of authentication required for printing to this
	destination: "none", "username,password", "domain,username,password",
	or "negotiate" (Kerberos)</td>
</tr>
<tr>
	<td>"printer-info"</td>
	<td>The human-readable description of the destination such as "My
	Laser Printer".</td>
</tr>
<tr>
	<td>"printer-is-accepting-jobs"</td>
	<td>"1" if the destination is accepting new jobs, "0" if not.</td>
</tr>
<tr>
	<td>"printer-is-shared"</td>
	<td>"1" if the destination is being shared with other computers, "0" if
	not.</td>
</tr>
<tr>
	<td>"printer-location"</td>
	<td>The human-readable location of the destination such as "Lab 4".</td>
</tr>
<tr>
	<td>"printer-make-and-model"</td>
	<td>The human-readable make and model of the destination such as "HP
	LaserJet 4000 Series".</td>
</tr>
<tr>
	<td>"printer-state"</td>
	<td>"3" if the destination is idle, "4" if the destination is printing
	a job, and "5" if the destination is stopped.</td>
</tr>
<tr>
	<td>"printer-state-change-time"</td>
	<td>The UNIX time when the destination entered the current state.</td>
</tr>
<tr>
	<td>"printer-state-reasons"</td>
	<td>Additional comma-delimited state keywords for the destination
	such as "media-tray-empty-error" and "toner-low-warning".</td>
</tr>
<tr>
	<td>"printer-type"</td>
	<td>The <a href='#cups_printer_t'><code>cups_printer_t</code></a>
	value associated with the destination.</td>
</tr>
</tbody>
</table></div>

<h3><a name='OPTIONS'>Options</a></h3>

<p>Options are stored in arrays of
<a href='#cups_option_t'><code>cups_option_t</code></a> structures. Each
option has a name (<code>name</code>) and value (<code>value</code>)
associated with it. The <a href='#cups_dest_t'><code>cups_dest_t</code></a>
<code>num_options</code> and <code>options</code> members contain the
default options for a particular destination, along with several informational
attributes about the destination as shown in <a href='#TABLE1'>Table 1</a>.
The <a href='#cupsGetOption'><code>cupsGetOption</code></a> function gets
the value for the named option. For example, the following code lists the
available destinations and their human-readable descriptions:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

<a href='#cups_dest_t'>cups_dest_t</a> *dests;
int num_dests = <a href='#cupsGetDests'>cupsGetDests</a>(&amp;dests);
<a href='#cups_dest_t'>cups_dest_t</a> *dest;
int i;
const char *value;

for (i = num_dests, dest = dests; i > 0; i --, dest ++)
  if (dest->instance == NULL)
  {
    value = <a href='#cupsGetOption'>cupsGetOption</a>("printer-info", dest->num_options, dest->options);
    printf("%s (%s)\n", dest->name, value ? value : "no description");
  }

<a href='#cupsFreeDests'>cupsFreeDests</a>(num_dests, dests);
</pre>

<p>You can create your own option arrays using the
<a href='#cupsAddOption'><code>cupsAddOption</code></a> function, which
adds a single named option to an array:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

int num_options = 0;
<a href='#cups_option_t'>cups_option_t</a> *options = NULL;

/* The returned num_options value is updated as needed */
num_options = <a href='#cupsAddOption'>cupsAddOption</a>("first", "value", num_options, &amp;options);

/* This adds a second option value */
num_options = <a href='#cupsAddOption'>cupsAddOption</a>("second", "value", num_options, &amp;options);

/* This replaces the first option we added */
num_options = <a href='#cupsAddOption'>cupsAddOption</a>("first", "new value", num_options, &amp;options);
</pre>

<p>Use a <code>for</code> loop to copy the options from a destination:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

int i;
int num_options = 0;
<a href='#cups_option_t'>cups_option_t</a> *options = NULL;
<a href='#cups_dest_t'>cups_dest_t</a> *dest;

for (i = 0; i < dest->num_options; i ++)
  num_options = <a href='#cupsAddOption'>cupsAddOption</a>(dest->options[i].name, dest->options[i].value, num_options, &amp;options);
</pre>

<p>Use the <a href='#cupsFreeOptions'><code>cupsFreeOptions</code></a>
function to free the options array when you are done using it:</p>

<pre class='example'>
<a href='#cupsFreeOptions'>cupsFreeOptions</a>(num_options, options);
</pre>

<h3><a name='PRINT_JOBS'>Print Jobs</a></h3>

<p>Print jobs are identified by a locally-unique job ID number from 1 to
2<sup>31</sup>-1 and have options and one or more files for printing to a
single destination. The <a href='#cupsPrintFile'><code>cupsPrintFile</code></a>
function creates a new job with one file. The following code prints the CUPS
test page file:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

<a href='#cups_dest_t'>cups_dest_t</a> *dest;
int num_options;
<a href='#cups_option_t'>cups_option_t</a> *options;
int job_id;

/* Print a single file */
job_id = <a href='#cupsPrintFile'>cupsPrintFile</a>(dest->name, "/usr/share/cups/data/testprint.ps", "Test Print", num_options, options);
</pre>

<p>The <a href='#cupsPrintFiles'><code>cupsPrintFiles</code></a> function
creates a job with multiple files. The files are provided in a
<code>char *</code> array:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

<a href='#cups_dest_t'>cups_dest_t</a> *dest;
int num_options;
<a href='#cups_option_t'>cups_option_t</a> *options;
int job_id;
char *files[3] = { "file1.pdf", "file2.pdf", "file3.pdf" };

/* Print three files */
job_id = <a href='#cupsPrintFiles'>cupsPrintFiles</a>(dest->name, 3, files, "Test Print", num_options, options);
</pre>

<p>Finally, the <a href='#cupsCreateJob'><code>cupsCreateJob</code></a>
function creates a new job with no files in it. Files are added using the
<a href='#cupsStartDocument'><code>cupsStartDocument</code></a>, 
<a href='api-httpipp.html#cupsWriteRequestData'><code>cupsWriteRequestData</code></a>,
and <a href='#cupsFinishDocument'><code>cupsFinishDocument</code></a> functions.
The following example creates a job with 10 text files for printing:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

<a href='#cups_dest_t'>cups_dest_t</a> *dest;
int num_options;
<a href='#cups_option_t'>cups_option_t</a> *options;
int job_id;
int i;
char buffer[1024];

/* Create the job */
job_id = <a href='#cupsCreateJob'>cupsCreateJob</a>(CUPS_HTTP_DEFAULT, dest->name, "10 Text Files", num_options, options);

/* If the job is created, add 10 files */
if (job_id > 0)
{
  for (i = 1; i &lt;= 10; i ++)
  {
    snprintf(buffer, sizeof(buffer), "file%d.txt", i);

    <a href='#cupsStartDocument'>cupsStartDocument</a>(CUPS_HTTP_DEFAULT, dest->name, job_id, buffer, CUPS_FORMAT_TEXT, i == 10);

    snprintf(buffer, sizeof(buffer),
             "File %d\n"
             "\n"
             "One fish,\n"
             "Two fish,\n
             "Red fish,\n
             "Blue fish\n", i);

    /* cupsWriteRequestData can be called as many times as needed */
    <a href='#cupsWriteRequestData'>cupsWriteRequestData</a>(CUPS_HTTP_DEFAULT, buffer, strlen(buffer));

    <a href='#cupsFinishDocument'>cupsFinishDocument</a>(CUPS_HTTP_DEFAULT, dest->name);
  }
}
</pre>

<p>Once you have created a job, you can monitor its status using the
<a href='#cupsGetJobs'><code>cupsGetJobs</code></a> function, which returns
an array of <a href='#cups_job_t'><code>cups_job_t</code></a> structures.
Each contains the job ID (<code>id</code>), destination name
(<code>dest</code>), title (<code>title</code>), and other information
associated with the job. The job array is freed using the
<a href='#cupsFreeJobs'><code>cupsFreeJobs</code></a> function. The following
example monitors a specific job ID, showing the current job state once every
5 seconds until the job is completed:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

<a href='#cups_dest_t'>cups_dest_t</a> *dest;
int job_id;
int num_jobs;
<a href='#cups_job_t'>cups_job_t</a> *jobs;
int i;
ipp_jstate_t job_state = IPP_JOB_PENDING;
 
while (job_state &lt; IPP_JOB_STOPPED)
{
  /* Get my jobs (1) with any state (-1) */
  num_jobs = <a href='#cupsGetJobs'>cupsGetJobs</a>(&amp;jobs, dest->name, 1, -1);

  /* Loop to find my job */
  job_state = IPP_JOB_COMPLETED;

  for (i = 0; i &lt; num_jobs; i ++)
    if (jobs[i].id == job_id)
    {
      job_state = jobs[i].state;
      break;
    }

  /* Free the job array */
  <a href='#cupsFreeJobs'>cupsFreeJobs</a>(num_jobs, jobs);

  /* Show the current state */
  switch (job_state)
  {
    case IPP_JOB_PENDING :
        printf("Job %d is pending.\n", job_id);
        break;
    case IPP_JOB_HELD :
        printf("Job %d is held.\n", job_id);
        break;
    case IPP_JOB_PROCESSING :
        printf("Job %d is processing.\n", job_id);
        break;
    case IPP_JOB_STOPPED :
        printf("Job %d is stopped.\n", job_id);
        break;
    case IPP_JOB_CANCELED :
        printf("Job %d is canceled.\n", job_id);
        break;
    case IPP_JOB_ABORTED :
        printf("Job %d is aborted.\n", job_id);
        break;
    case IPP_JOB_COMPLETED :
        printf("Job %d is completed.\n", job_id);
        break;
  }

  /* Sleep if the job is not finished */
  if (job_state &lt; IPP_JOB_STOPPED)
    sleep(5);
}
</pre>

<p>To cancel a job, use the
<a href='#cupsCancelJob'><code>cupsCancelJob</code></a> function with the
job ID:</p>

<pre class='exmaple'>
#include &lt;cups/cups.h&gt;

<a href='#cups_dest_t'>cups_dest_t</a> *dest;
int job_id;

<a href='#cupsCancelJob'>cupsCancelJob</a>(dest->name, job_id);
</pre>

<h3><a name='ERROR_HANDLING'>Error Handling</a></h3>

<p>If any of the CUPS API printing functions returns an error, the reason for
that error can be found by calling the
<a href='#cupsLastError'><code>cupsLastError</code></a> and
<a href='#cupsLastErrorString'><code>cupsLastErrorString</code></a> functions.
<a href='#cupsLastError'><code>cupsLastError</code></a> returns the last IPP
error code
(<a href='api-httpipp.html#ipp_status_t'><code>ipp_status_t</code></a>)
that was encountered, while
<a href='#cupsLastErrorString'><code>cupsLastErrorString</code></a> returns
a (localized) human-readable string that can be shown to the user. For example,
if any of the job creation functions returns a job ID of 0, you can use
<a href='#cupsLastErrorString'><code>cupsLastErrorString</code></a> to show
the reason why the job could not be created:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

int job_id;

if (job_id == 0)
  puts(cupsLastErrorString());
</pre>

<h3><a name='PASSWORDS_AND_AUTHENTICATION'>Passwords and Authentication</a></h3>

<p>CUPS supports authentication of any request, including submission of print
jobs. The default mechanism for getting the username and password is to use the
login user and a password from the console.</p>

<p>To support other types of applications, in particular Graphical User
Interfaces ("GUIs"), the CUPS API provides functions to set the default
username and to register a callback function that returns a password string.</p>

<p>The <a href="#cupsSetPasswordCB"><code>cupsSetPasswordCB</code></a>
function is used to set a password callback in your program. Only one
function can be used at any time.</p>

<p>The <a href="#cupsSetUser"><code>cupsSetUser</code></a> function sets the
current username for authentication. This function can be called by your
password callback function to change the current username as needed.</p>

<p>The following example shows a simple password callback that gets a
username and password from the user:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

const char *
my_password_cb(const char *prompt)
{
  char	user[65];


  puts(prompt);

  /* Get a username from the user */
  printf("Username: ");
  if (fgets(user, sizeof(user), stdin) == NULL)
    return (NULL);

  /* Strip the newline from the string and set the user */
  user[strlen(user) - 1] = '\0';

  <a href='#cupsSetUser'>cupsSetUser</a>(user);

  /* Use getpass() to ask for the password... */
  return (getpass("Password: "));
}

<a href='#cupsSetPasswordCB'>cupsSetPasswordCB</a>(my_password_cb);
</pre>

<p>Similarly, a GUI could display the prompt string in a window with input
fields for the username and password. The username should default to the
string returned by the <a href="#cupsUser"><code>cupsUser</code></a>
function.</p>
<h2 class='title'>Contents</h2>
<ul>
	<li><a href='#ENUMERATIONS'>Enumerations</a></li>
	<li><a href='#FUNCTIONS'>Functions</a></li>
	<li><a href='#STRUCTURES'>Structures</a></li>
	<li><a href='#TYPES'>Types</a></li>
</ul>
<!-- NEW PAGE -->
<h2 class='title'><a name='ENUMERATIONS'>Enumerations</a></h2>
<ul>
	<li><a href='#cups_ptype_e'><tt>cups_ptype_e</tt></a> </li>
</ul>
<!-- NEW PAGE -->
<h3 class='title'><a name='cups_ptype_e'>cups_ptype_e</a></h3>
<h4>Description</h4>
<p>Not a typedef'd enum so we can OR
<h4>Values</h4>
<div class='table'><table align='center' border='1' width='80%' summary='Values'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>CUPS_PRINTER_AUTHENTICATED</tt> <span class='info'>&nbsp;CUPS 1.2&nbsp;</span></td><td>Printer requires authentication 
</td></tr>
<tr><td><tt>CUPS_PRINTER_BIND</tt> </td><td>Can bind output
</td></tr>
<tr><td><tt>CUPS_PRINTER_BW</tt> </td><td>Can do B&amp;W printing
</td></tr>
<tr><td><tt>CUPS_PRINTER_CLASS</tt> </td><td>Printer class
</td></tr>
<tr><td><tt>CUPS_PRINTER_COLLATE</tt> </td><td>Can collage copies
</td></tr>
<tr><td><tt>CUPS_PRINTER_COLOR</tt> </td><td>Can do color printing
</td></tr>
<tr><td><tt>CUPS_PRINTER_COMMANDS</tt> <span class='info'>&nbsp;CUPS 1.2&nbsp;</span></td><td>Printer supports maintenance commands 
</td></tr>
<tr><td><tt>CUPS_PRINTER_COPIES</tt> </td><td>Can do copies
</td></tr>
<tr><td><tt>CUPS_PRINTER_COVER</tt> </td><td>Can cover output
</td></tr>
<tr><td><tt>CUPS_PRINTER_DEFAULT</tt> </td><td>Default printer on network
</td></tr>
<tr><td><tt>CUPS_PRINTER_DELETE</tt> <span class='info'>&nbsp;CUPS 1.2&nbsp;</span></td><td>Delete printer 
</td></tr>
<tr><td><tt>CUPS_PRINTER_DISCOVERED</tt> <span class='info'>&nbsp;CUPS 1.3&nbsp;</span></td><td>Printer was automatically discovered and added 
</td></tr>
<tr><td><tt>CUPS_PRINTER_DUPLEX</tt> </td><td>Can do duplexing
</td></tr>
<tr><td><tt>CUPS_PRINTER_FAX</tt> </td><td>Fax queue
</td></tr>
<tr><td><tt>CUPS_PRINTER_IMPLICIT</tt> </td><td>Implicit class
</td></tr>
<tr><td><tt>CUPS_PRINTER_LARGE</tt> </td><td>Can do D/E/A1/A0
</td></tr>
<tr><td><tt>CUPS_PRINTER_LOCAL</tt> </td><td>Local printer or class
</td></tr>
<tr><td><tt>CUPS_PRINTER_MEDIUM</tt> </td><td>Can do Tabloid/B/C/A3/A2
</td></tr>
<tr><td><tt>CUPS_PRINTER_NOT_SHARED</tt> <span class='info'>&nbsp;CUPS 1.2&nbsp;</span></td><td>Printer is not shared 
</td></tr>
<tr><td><tt>CUPS_PRINTER_OPTIONS</tt> </td><td>~(CLASS | REMOTE | IMPLICIT | DEFAULT | FAX | REJECTING | DELETE | NOT_SHARED | AUTHENTICATED | COMMANDS | DISCOVERED)
</td></tr>
<tr><td><tt>CUPS_PRINTER_PUNCH</tt> </td><td>Can punch output
</td></tr>
<tr><td><tt>CUPS_PRINTER_REJECTING</tt> </td><td>Printer is rejecting jobs
</td></tr>
<tr><td><tt>CUPS_PRINTER_REMOTE</tt> </td><td>Remote printer or class
</td></tr>
<tr><td><tt>CUPS_PRINTER_SMALL</tt> </td><td>Can do Letter/Legal/A4
</td></tr>
<tr><td><tt>CUPS_PRINTER_SORT</tt> </td><td>Can sort output
</td></tr>
<tr><td><tt>CUPS_PRINTER_STAPLE</tt> </td><td>Can staple output
</td></tr>
<tr><td><tt>CUPS_PRINTER_VARIABLE</tt> </td><td>Can do variable sizes
</td></tr>
</tbody></table></div>
<!-- NEW PAGE -->
<h2 class='title'><a name='FUNCTIONS'>Functions</a></h2>
<ul>
	<li><a href='#cupsAddDest'><tt>cupsAddDest()</tt></a> </li>
	<li><a href='#cupsAddOption'><tt>cupsAddOption()</tt></a> </li>
	<li><a href='#cupsCancelJob'><tt>cupsCancelJob()</tt></a> </li>
	<li><a href='#cupsCancelJob2'><tt>cupsCancelJob2()</tt></a> <span class='info'>&nbsp;CUPS 1.4&nbsp;</span></li>
	<li><a href='#cupsCreateJob'><tt>cupsCreateJob()</tt></a> <span class='info'>&nbsp;CUPS 1.4&nbsp;</span></li>
	<li><a href='#cupsEncryption'><tt>cupsEncryption()</tt></a> </li>
	<li><a href='#cupsFinishDocument'><tt>cupsFinishDocument()</tt></a> <span class='info'>&nbsp;CUPS 1.4&nbsp;</span></li>
	<li><a href='#cupsFreeDests'><tt>cupsFreeDests()</tt></a> </li>
	<li><a href='#cupsFreeJobs'><tt>cupsFreeJobs()</tt></a> </li>
	<li><a href='#cupsFreeOptions'><tt>cupsFreeOptions()</tt></a> </li>
	<li><a href='#cupsGetClasses'><tt>cupsGetClasses()</tt></a> <span class='info'>&nbsp;DEPRECATED&nbsp;</span></li>
	<li><a href='#cupsGetDefault'><tt>cupsGetDefault()</tt></a> </li>
	<li><a href='#cupsGetDefault2'><tt>cupsGetDefault2()</tt></a> <span class='info'>&nbsp;CUPS 1.1.21&nbsp;</span></li>
	<li><a href='#cupsGetDest'><tt>cupsGetDest()</tt></a> </li>
	<li><a href='#cupsGetDests'><tt>cupsGetDests()</tt></a> </li>
	<li><a href='#cupsGetDests2'><tt>cupsGetDests2()</tt></a> <span class='info'>&nbsp;CUPS 1.1.21&nbsp;</span></li>
	<li><a href='#cupsGetFd'><tt>cupsGetFd()</tt></a> <span class='info'>&nbsp;CUPS 1.1.20&nbsp;</span></li>
	<li><a href='#cupsGetFile'><tt>cupsGetFile()</tt></a> <span class='info'>&nbsp;CUPS 1.1.20&nbsp;</span></li>
	<li><a href='#cupsGetJobs'><tt>cupsGetJobs()</tt></a> </li>
	<li><a href='#cupsGetJobs2'><tt>cupsGetJobs2()</tt></a> <span class='info'>&nbsp;CUPS 1.1.21&nbsp;</span></li>
	<li><a href='#cupsGetNamedDest'><tt>cupsGetNamedDest()</tt></a> <span class='info'>&nbsp;CUPS 1.4&nbsp;</span></li>
	<li><a href='#cupsGetOption'><tt>cupsGetOption()</tt></a> </li>
	<li><a href='#cupsGetPPD'><tt>cupsGetPPD()</tt></a> </li>
	<li><a href='#cupsGetPPD2'><tt>cupsGetPPD2()</tt></a> <span class='info'>&nbsp;CUPS 1.1.21&nbsp;</span></li>
	<li><a href='#cupsGetPPD3'><tt>cupsGetPPD3()</tt></a> </li>
	<li><a href='#cupsGetPassword'><tt>cupsGetPassword()</tt></a> </li>
	<li><a href='#cupsGetPrinters'><tt>cupsGetPrinters()</tt></a> <span class='info'>&nbsp;DEPRECATED&nbsp;</span></li>
	<li><a href='#cupsGetServerPPD'><tt>cupsGetServerPPD()</tt></a> <span class='info'>&nbsp;CUPS 1.3&nbsp;</span></li>
	<li><a href='#cupsLangDefault'><tt>cupsLangDefault()</tt></a> </li>
	<li><a href='#cupsLangEncoding'><tt>cupsLangEncoding()</tt></a> </li>
	<li><a href='#cupsLangFlush'><tt>cupsLangFlush()</tt></a> </li>
	<li><a href='#cupsLangFree'><tt>cupsLangFree()</tt></a> </li>
	<li><a href='#cupsLangGet'><tt>cupsLangGet()</tt></a> </li>
	<li><a href='#cupsLastError'><tt>cupsLastError()</tt></a> </li>
	<li><a href='#cupsLastErrorString'><tt>cupsLastErrorString()</tt></a> <span class='info'>&nbsp;CUPS 1.2&nbsp;</span></li>
	<li><a href='#cupsMarkOptions'><tt>cupsMarkOptions()</tt></a> </li>
	<li><a href='#cupsNotifySubject'><tt>cupsNotifySubject()</tt></a> <span class='info'>&nbsp;CUPS 1.2&nbsp;</span></li>
	<li><a href='#cupsNotifyText'><tt>cupsNotifyText()</tt></a> <span class='info'>&nbsp;CUPS 1.2&nbsp;</span></li>
	<li><a href='#cupsParseOptions'><tt>cupsParseOptions()</tt></a> </li>
	<li><a href='#cupsPrintFile'><tt>cupsPrintFile()</tt></a> </li>
	<li><a href='#cupsPrintFile2'><tt>cupsPrintFile2()</tt></a> <span class='info'>&nbsp;CUPS 1.1.21&nbsp;</span></li>
	<li><a href='#cupsPrintFiles'><tt>cupsPrintFiles()</tt></a> </li>
	<li><a href='#cupsPrintFiles2'><tt>cupsPrintFiles2()</tt></a> <span class='info'>&nbsp;CUPS 1.1.21&nbsp;</span></li>
	<li><a href='#cupsPutFd'><tt>cupsPutFd()</tt></a> <span class='info'>&nbsp;CUPS 1.1.20&nbsp;</span></li>
	<li><a href='#cupsPutFile'><tt>cupsPutFile()</tt></a> <span class='info'>&nbsp;CUPS 1.1.20&nbsp;</span></li>
	<li><a href='#cupsRemoveDest'><tt>cupsRemoveDest()</tt></a> <span class='info'>&nbsp;CUPS 1.3&nbsp;</span></li>
	<li><a href='#cupsRemoveOption'><tt>cupsRemoveOption()</tt></a> <span class='info'>&nbsp;CUPS 1.2&nbsp;</span></li>
	<li><a href='#cupsServer'><tt>cupsServer()</tt></a> </li>
	<li><a href='#cupsSetDefaultDest'><tt>cupsSetDefaultDest()</tt></a> <span class='info'>&nbsp;CUPS 1.3&nbsp;</span></li>
	<li><a href='#cupsSetDests'><tt>cupsSetDests()</tt></a> </li>
	<li><a href='#cupsSetDests2'><tt>cupsSetDests2()</tt></a> <span class='info'>&nbsp;CUPS 1.1.21&nbsp;</span></li>
	<li><a href='#cupsSetEncryption'><tt>cupsSetEncryption()</tt></a> </li>
	<li><a href='#cupsSetPasswordCB'><tt>cupsSetPasswordCB()</tt></a> </li>
	<li><a href='#cupsSetServer'><tt>cupsSetServer()</tt></a> </li>
	<li><a href='#cupsSetUser'><tt>cupsSetUser()</tt></a> </li>
	<li><a href='#cupsStartDocument'><tt>cupsStartDocument()</tt></a> <span class='info'>&nbsp;CUPS 1.4&nbsp;</span></li>
	<li><a href='#cupsTempFd'><tt>cupsTempFd()</tt></a> </li>
	<li><a href='#cupsTempFile'><tt>cupsTempFile()</tt></a> <span class='info'>&nbsp;DEPRECATED&nbsp;</span></li>
	<li><a href='#cupsTempFile2'><tt>cupsTempFile2()</tt></a> <span class='info'>&nbsp;CUPS 1.2&nbsp;</span></li>
	<li><a href='#cupsUser'><tt>cupsUser()</tt></a> </li>
</ul>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsAddDest'>cupsAddDest()</a></h3>
<h4>Description</h4>
<p>Add a destination to the list of destinations.
<p>This function cannot be used to add a new class or printer queue,
it only adds a new container of saved options for the named
destination or instance.
<p>If the named destination already exists, the destination list is
returned unchanged.  Adding a new instance of a destination creates
a copy of that destination's options.
<p>Use the cupsSaveDests() function to save the updated list of
destinations to the user's lpoptions file.
<h4>Syntax</h4>
<p><tt>
int<br>
cupsAddDest(
    const char * name,
    const char * instance,
    int num_dests,
    <a href='#cups_dest_t'>cups_dest_t</a> ** dests);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>name</tt></td><td>Destination name
</td></tr>
<tr><td><tt>instance</tt></td><td>Instance name or NULL for none/primary
</td></tr>
<tr><td><tt>num_dests</tt></td><td>Number of destinations
</td></tr>
<tr><td><tt>dests</tt></td><td>Destinations
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>New number of destinations</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsAddOption'>cupsAddOption()</a></h3>
<h4>Description</h4>
<p>Add an option to an option array.
<h4>Syntax</h4>
<p><tt>
int<br>
cupsAddOption(
    const char * name,
    const char * value,
    int num_options,
    <a href='#cups_option_t'>cups_option_t</a> ** options);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>name</tt></td><td>Name of option
</td></tr>
<tr><td><tt>value</tt></td><td>Value of option
</td></tr>
<tr><td><tt>num_options</tt></td><td>Number of options
</td></tr>
<tr><td><tt>options</tt></td><td>Pointer to options
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Number of options</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsCancelJob'>cupsCancelJob()</a></h3>
<h4>Description</h4>
<p>Cancel a print job on the default server.
<p>Use the cupsLastError() and cupsLastErrorString() functions to get
the cause of any failure.
<h4>Syntax</h4>
<p><tt>
int<br>
cupsCancelJob(
    const char * name,
    int job_id);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>name</tt></td><td>Name of printer or class
</td></tr>
<tr><td><tt>job_id</tt></td><td>Job ID
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>1 on success, 0 on failure</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.4&nbsp;</span><a name='cupsCancelJob2'>cupsCancelJob2()</a></h3>
<h4>Description</h4>
<p>Cancel or purge a print job.
<p>Canceled jobs remain in the job history while purged jobs are removed
from the job history.
<p>Use the cupsLastError() and cupsLastErrorString() functions to get
the cause of any failure.


<h4>Syntax</h4>
<p><tt>
ipp_status_t<br>
cupsCancelJob2(
    http_t * http,
    int job_id,
    int purge);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>http</tt></td><td>HTTP connection or CUPS_HTTP_DEFAULT
</td></tr>
<tr><td><tt>job_id</tt></td><td>Job ID
</td></tr>
<tr><td><tt>purge</tt></td><td>1 to purge, 0 to cancel
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>IPP status</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.4&nbsp;</span><a name='cupsCreateJob'>cupsCreateJob()</a></h3>
<h4>Description</h4>
<p>Create an empty job.
<p>Submit files for printing to the job using the cupsStartDocument(),
cupsWriteRequestData(), and cupsFinishDocument() functions.


<h4>Syntax</h4>
<p><tt>
int<br>
cupsCreateJob(
    http_t * http,
    const char * name,
    const char * title,
    int num_options,
    <a href='#cups_option_t'>cups_option_t</a> * options);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>http</tt></td><td>HTTP connection or CUPS_HTTP_DEFAULT
</td></tr>
<tr><td><tt>name</tt></td><td>Printer or class name
</td></tr>
<tr><td><tt>title</tt></td><td>Title of job
</td></tr>
<tr><td><tt>num_options</tt></td><td>Number of options
</td></tr>
<tr><td><tt>options</tt></td><td>Options
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Job ID or 0 on error</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsEncryption'>cupsEncryption()</a></h3>
<h4>Description</h4>
<p>Get the default encryption settings.
<p>The default encryption setting comes from the CUPS_ENCRYPTION
environment variable, then the ~/.cupsrc file, and finally the
/etc/cups/client.conf file. If not set, the default is
HTTP_ENCRYPT_IF_REQUESTED.
<h4>Syntax</h4>
<p><tt>
http_encryption_t<br>
cupsEncryption(void);
</tt></p>
<h4>Arguments</h4>
<p>None.</p>
<h4>Returns</h4>
<p>Encryption settings</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.4&nbsp;</span><a name='cupsFinishDocument'>cupsFinishDocument()</a></h3>
<h4>Description</h4>
<p>Finish sending a document.


<h4>Syntax</h4>
<p><tt>
ipp_status_t<br>
cupsFinishDocument(
    http_t * http,
    const char * name);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>http</tt></td><td>HTTP connection or CUPS_HTTP_DEFAULT
</td></tr>
<tr><td><tt>name</tt></td><td>Printer or class name
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Status of document submission</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsFreeDests'>cupsFreeDests()</a></h3>
<h4>Description</h4>
<p>Free the memory used by the list of destinations.
<h4>Syntax</h4>
<p><tt>
void<br>
cupsFreeDests(
    int num_dests,
    <a href='#cups_dest_t'>cups_dest_t</a> * dests);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>num_dests</tt></td><td>Number of destinations
</td></tr>
<tr><td><tt>dests</tt></td><td>Destinations
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Nothing.</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsFreeJobs'>cupsFreeJobs()</a></h3>
<h4>Description</h4>
<p>Free memory used by job data.
<h4>Syntax</h4>
<p><tt>
void<br>
cupsFreeJobs(
    int num_jobs,
    <a href='#cups_job_t'>cups_job_t</a> * jobs);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>num_jobs</tt></td><td>Number of jobs
</td></tr>
<tr><td><tt>jobs</tt></td><td>Jobs
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Nothing.</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsFreeOptions'>cupsFreeOptions()</a></h3>
<h4>Description</h4>
<p>Free all memory used by options.
<h4>Syntax</h4>
<p><tt>
void<br>
cupsFreeOptions(
    int num_options,
    <a href='#cups_option_t'>cups_option_t</a> * options);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>num_options</tt></td><td>Number of options
</td></tr>
<tr><td><tt>options</tt></td><td>Pointer to options
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Nothing.</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;DEPRECATED&nbsp;</span><a name='cupsGetClasses'>cupsGetClasses()</a></h3>
<h4>Description</h4>
<p>Get a list of printer classes from the default server.
<p>This function is deprecated - use cupsGetDests() instead.


<h4>Syntax</h4>
<p><tt>
int<br>
cupsGetClasses(
    char *** classes);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>classes</tt></td><td>Classes
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Number of classes</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsGetDefault'>cupsGetDefault()</a></h3>
<h4>Description</h4>
<p>Get the default printer or class for the default server.
<p>This function returns the default printer or class as defined by
the LPDEST or PRINTER environment variables. If these environment
variables are not set, the server default destination is returned.
Applications should use the cupsGetDests() and cupsGetDest() functions
to get the user-defined default printer, as this function does not
support the lpoptions-defined default printer.
<h4>Syntax</h4>
<p><tt>
const char *<br>
cupsGetDefault(void);
</tt></p>
<h4>Arguments</h4>
<p>None.</p>
<h4>Returns</h4>
<p>Default printer or NULL</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.1.21&nbsp;</span><a name='cupsGetDefault2'>cupsGetDefault2()</a></h3>
<h4>Description</h4>
<p>Get the default printer or class for the specified server.
<p>This function returns the default printer or class as defined by
the LPDEST or PRINTER environment variables. If these environment
variables are not set, the server default destination is returned.
Applications should use the cupsGetDests() and cupsGetDest() functions
to get the user-defined default printer, as this function does not
support the lpoptions-defined default printer.


<h4>Syntax</h4>
<p><tt>
const char *<br>
cupsGetDefault2(
    http_t * http);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>http</tt></td><td>HTTP connection
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Default printer or NULL</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsGetDest'>cupsGetDest()</a></h3>
<h4>Description</h4>
<p>Get the named destination from the list.
<p>Use the cupsGetDests() or cupsGetDests2() functions to get a
list of supported destinations for the current user.
<h4>Syntax</h4>
<p><tt>
<a href='#cups_dest_t'>cups_dest_t</a> *<br>
cupsGetDest(
    const char * name,
    const char * instance,
    int num_dests,
    <a href='#cups_dest_t'>cups_dest_t</a> * dests);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>name</tt></td><td>Destination name or NULL for the default destination
</td></tr>
<tr><td><tt>instance</tt></td><td>Instance name or NULL
</td></tr>
<tr><td><tt>num_dests</tt></td><td>Number of destinations
</td></tr>
<tr><td><tt>dests</tt></td><td>Destinations
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Destination pointer or NULL</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsGetDests'>cupsGetDests()</a></h3>
<h4>Description</h4>
<p>Get the list of destinations from the default server.
<p>Starting with CUPS 1.2, the returned list of destinations include the
printer-info, printer-is-accepting-jobs, printer-is-shared,
printer-make-and-model, printer-state, printer-state-change-time,
printer-state-reasons, and printer-type attributes as options.
<p>Use the cupsFreeDests() function to free the destination list and
the cupsGetDest() function to find a particular destination.
<h4>Syntax</h4>
<p><tt>
int<br>
cupsGetDests(
    <a href='#cups_dest_t'>cups_dest_t</a> ** dests);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>dests</tt></td><td>Destinations
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Number of destinations</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.1.21&nbsp;</span><a name='cupsGetDests2'>cupsGetDests2()</a></h3>
<h4>Description</h4>
<p>Get the list of destinations from the specified server.
<p>Starting with CUPS 1.2, the returned list of destinations include the
printer-info, printer-is-accepting-jobs, printer-is-shared,
printer-make-and-model, printer-state, printer-state-change-time,
printer-state-reasons, and printer-type attributes as options.
<p>Use the cupsFreeDests() function to free the destination list and
the cupsGetDest() function to find a particular destination.


<h4>Syntax</h4>
<p><tt>
int<br>
cupsGetDests2(
    http_t * http,
    <a href='#cups_dest_t'>cups_dest_t</a> ** dests);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>http</tt></td><td>HTTP connection or CUPS_HTTP_DEFAULT
</td></tr>
<tr><td><tt>dests</tt></td><td>Destinations
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Number of destinations</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.1.20&nbsp;</span><a name='cupsGetFd'>cupsGetFd()</a></h3>
<h4>Description</h4>
<p>Get a file from the server.
<p>This function returns HTTP_OK when the file is successfully retrieved.


<h4>Syntax</h4>
<p><tt>
http_status_t<br>
cupsGetFd(
    http_t * http,
    const char * resource,
    int fd);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>http</tt></td><td>HTTP connection to server
</td></tr>
<tr><td><tt>resource</tt></td><td>Resource name
</td></tr>
<tr><td><tt>fd</tt></td><td>File descriptor
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>HTTP status</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.1.20&nbsp;</span><a name='cupsGetFile'>cupsGetFile()</a></h3>
<h4>Description</h4>
<p>Get a file from the server.
<p>This function returns HTTP_OK when the file is successfully retrieved.


<h4>Syntax</h4>
<p><tt>
http_status_t<br>
cupsGetFile(
    http_t * http,
    const char * resource,
    const char * filename);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>http</tt></td><td>HTTP connection to server
</td></tr>
<tr><td><tt>resource</tt></td><td>Resource name
</td></tr>
<tr><td><tt>filename</tt></td><td>Filename
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>HTTP status</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsGetJobs'>cupsGetJobs()</a></h3>
<h4>Description</h4>
<p>Get the jobs from the default server.
<h4>Syntax</h4>
<p><tt>
int<br>
cupsGetJobs(
    <a href='#cups_job_t'>cups_job_t</a> ** jobs,
    const char * mydest,
    int myjobs,
    int completed);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>jobs</tt></td><td>Job data
</td></tr>
<tr><td><tt>mydest</tt></td><td>NULL = all destinations,       *
otherwise show jobs for mydest
</td></tr>
<tr><td><tt>myjobs</tt></td><td>0 = all users, 1 = mine
</td></tr>
<tr><td><tt>completed</tt></td><td>-1 = show all, 0 = active, *
1 = completed jobs
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Number of jobs</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.1.21&nbsp;</span><a name='cupsGetJobs2'>cupsGetJobs2()</a></h3>
<h4>Description</h4>
<p>Get the jobs from the specified server.


<h4>Syntax</h4>
<p><tt>
int<br>
cupsGetJobs2(
    http_t * http,
    <a href='#cups_job_t'>cups_job_t</a> ** jobs,
    const char * mydest,
    int myjobs,
    int completed);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>http</tt></td><td>HTTP connection or CUPS_HTTP_DEFAULT
</td></tr>
<tr><td><tt>jobs</tt></td><td>Job data
</td></tr>
<tr><td><tt>mydest</tt></td><td>NULL = all destinations,       *
otherwise show jobs for mydest
</td></tr>
<tr><td><tt>myjobs</tt></td><td>0 = all users, 1 = mine
</td></tr>
<tr><td><tt>completed</tt></td><td>-1 = show all, 0 = active, *
1 = completed jobs
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Number of jobs</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.4&nbsp;</span><a name='cupsGetNamedDest'>cupsGetNamedDest()</a></h3>
<h4>Description</h4>
<p>Get options for the named destination.
<p>This function is optimized for retrieving a single destination and should
be used instead of cupsGetDests() and cupsGetDest() when you either know
the name of the destination or want to print to the default destination.
If NULL is returned, the destination does not exist or there is no default
destination.
<p>If &quot;http&quot; is CUPS_HTTP_DEFAULT, the connection to the default print server
will be used.
<p>If &quot;name&quot; is NULL, the default printer for the current user will be returned.
<p>The returned destination must be freed using cupsFreeDests() with a
&quot;num_dests&quot; of 1.


<h4>Syntax</h4>
<p><tt>
<a href='#cups_dest_t'>cups_dest_t</a> *<br>
cupsGetNamedDest(
    http_t * http,
    const char * name,
    const char * instance);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>http</tt></td><td>HTTP connection or CUPS_HTTP_DEFAULT
</td></tr>
<tr><td><tt>name</tt></td><td>Destination name or NULL
</td></tr>
<tr><td><tt>instance</tt></td><td>Instance name or NULL
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Destination or NULL</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsGetOption'>cupsGetOption()</a></h3>
<h4>Description</h4>
<p>Get an option value.
<h4>Syntax</h4>
<p><tt>
const char *<br>
cupsGetOption(
    const char * name,
    int num_options,
    <a href='#cups_option_t'>cups_option_t</a> * options);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>name</tt></td><td>Name of option
</td></tr>
<tr><td><tt>num_options</tt></td><td>Number of options
</td></tr>
<tr><td><tt>options</tt></td><td>Options
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Option value or NULL</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsGetPPD'>cupsGetPPD()</a></h3>
<h4>Description</h4>
<p>Get the PPD file for a printer on the default server.
<p>For classes, cupsGetPPD() returns the PPD file for the first printer
in the class.
<h4>Syntax</h4>
<p><tt>
const char *<br>
cupsGetPPD(
    const char * name);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>name</tt></td><td>Printer name
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Filename for PPD file</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.1.21&nbsp;</span><a name='cupsGetPPD2'>cupsGetPPD2()</a></h3>
<h4>Description</h4>
<p>Get the PPD file for a printer from the specified server.
<p>For classes, cupsGetPPD2() returns the PPD file for the first printer
in the class.


<h4>Syntax</h4>
<p><tt>
const char *<br>
cupsGetPPD2(
    http_t * http,
    const char * name);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>http</tt></td><td>HTTP connection or CUPS_HTTP_DEFAULT
</td></tr>
<tr><td><tt>name</tt></td><td>Printer name
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Filename for PPD file</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsGetPPD3'>cupsGetPPD3()</a></h3>
<h4>Description</h4>
<p>Get the PPD file for a printer on the specified
server if it has changed.
<p>The &quot;modtime&quot; parameter contains the modification time of any
locally-cached content and is updated with the time from the PPD file on
the server.
<p>The &quot;buffer&quot; parameter contains the local PPD filename.  If it contains
the empty string, a new temporary file is created, otherwise the existing
file will be overwritten as needed.
<p>On success, HTTP_OK is returned for a new PPD file and HTTP_NOT_MODIFIED
if the existing PPD file is up-to-date.  Any other status is an error.
<h4>Syntax</h4>
<p><tt>
http_status_t<br>
cupsGetPPD3(
    http_t * http,
    const char * name,
    time_t * modtime,
    char * buffer,
    size_t bufsize);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>http</tt></td><td>HTTP connection or CUPS_HTTP_DEFAULT
</td></tr>
<tr><td><tt>name</tt></td><td>Printer name
</td></tr>
<tr><td><tt>modtime</tt></td><td>Modification time
</td></tr>
<tr><td><tt>buffer</tt></td><td>Filename buffer
</td></tr>
<tr><td><tt>bufsize</tt></td><td>Size of filename buffer
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>HTTP status</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsGetPassword'>cupsGetPassword()</a></h3>
<h4>Description</h4>
<p>Get a password from the user.
<p>Uses the current password callback function. Returns NULL if the
user does not provide a password.
<h4>Syntax</h4>
<p><tt>
const char *<br>
cupsGetPassword(
    const char * prompt);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>prompt</tt></td><td>Prompt string
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Password</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;DEPRECATED&nbsp;</span><a name='cupsGetPrinters'>cupsGetPrinters()</a></h3>
<h4>Description</h4>
<p>Get a list of printers from the default server.
<p>This function is deprecated - use cupsGetDests() instead.


<h4>Syntax</h4>
<p><tt>
int<br>
cupsGetPrinters(
    char *** printers);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>printers</tt></td><td>Printers
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Number of printers</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.3&nbsp;</span><a name='cupsGetServerPPD'>cupsGetServerPPD()</a></h3>
<h4>Description</h4>
<p>Get an available PPD file from the server.
<p>This function returns the named PPD file from the server.  The
list of available PPDs is provided by the IPP CUPS_GET_PPDS
operation.
<p>You must remove (unlink) the PPD file when you are finished with
it. The PPD filename is stored in a static location that will be
overwritten on the next call to cupsGetPPD(), cupsGetPPD2(), or
cupsGetServerPPD().


<h4>Syntax</h4>
<p><tt>
char *<br>
cupsGetServerPPD(
    http_t * http,
    const char * name);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>http</tt></td><td>HTTP connection or CUPS_HTTP_DEFAULT
</td></tr>
<tr><td><tt>name</tt></td><td>Name of PPD file (&quot;ppd-name&quot;)
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Name of PPD file or NULL on error</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsLangDefault'>cupsLangDefault()</a></h3>
<h4>Description</h4>
<p>Return the default language.
<h4>Syntax</h4>
<p><tt>
cups_lang_t *<br>
cupsLangDefault(void);
</tt></p>
<h4>Arguments</h4>
<p>None.</p>
<h4>Returns</h4>
<p>Language data</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsLangEncoding'>cupsLangEncoding()</a></h3>
<h4>Description</h4>
<p>Return the character encoding (us-ascii, etc.)
for the given language.
<h4>Syntax</h4>
<p><tt>
const char *<br>
cupsLangEncoding(
    cups_lang_t * lang);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>lang</tt></td><td>Language data
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Character encoding</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsLangFlush'>cupsLangFlush()</a></h3>
<h4>Description</h4>
<p>Flush all language data out of the cache.
<h4>Syntax</h4>
<p><tt>
void<br>
cupsLangFlush(void);
</tt></p>
<h4>Arguments</h4>
<p>None.</p>
<h4>Returns</h4>
<p>Nothing.</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsLangFree'>cupsLangFree()</a></h3>
<h4>Description</h4>
<p>Free language data.
<p>This does not actually free anything; use cupsLangFlush() for that.
<h4>Syntax</h4>
<p><tt>
void<br>
cupsLangFree(
    cups_lang_t * lang);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>lang</tt></td><td>Language to free
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Nothing.</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsLangGet'>cupsLangGet()</a></h3>
<h4>Description</h4>
<p>Get a language.
<h4>Syntax</h4>
<p><tt>
cups_lang_t *<br>
cupsLangGet(
    const char * language);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>language</tt></td><td>Language or locale
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Language data</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsLastError'>cupsLastError()</a></h3>
<h4>Description</h4>
<p>Return the last IPP status code.
<h4>Syntax</h4>
<p><tt>
ipp_status_t<br>
cupsLastError(void);
</tt></p>
<h4>Arguments</h4>
<p>None.</p>
<h4>Returns</h4>
<p>IPP status code from last request</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.2&nbsp;</span><a name='cupsLastErrorString'>cupsLastErrorString()</a></h3>
<h4>Description</h4>
<p>Return the last IPP status-message.


<h4>Syntax</h4>
<p><tt>
const char *<br>
cupsLastErrorString(void);
</tt></p>
<h4>Arguments</h4>
<p>None.</p>
<h4>Returns</h4>
<p>status-message text from last request</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsMarkOptions'>cupsMarkOptions()</a></h3>
<h4>Description</h4>
<p>Mark command-line options in a PPD file.
<h4>Syntax</h4>
<p><tt>
int<br>
cupsMarkOptions(
    ppd_file_t * ppd,
    int num_options,
    <a href='#cups_option_t'>cups_option_t</a> * options);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>ppd</tt></td><td>PPD file
</td></tr>
<tr><td><tt>num_options</tt></td><td>Number of options
</td></tr>
<tr><td><tt>options</tt></td><td>Options
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>1 if conflicting</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.2&nbsp;</span><a name='cupsNotifySubject'>cupsNotifySubject()</a></h3>
<h4>Description</h4>
<p>Return the subject for the given notification message.
<p>The returned string must be freed by the caller using free().


<h4>Syntax</h4>
<p><tt>
char *<br>
cupsNotifySubject(
    cups_lang_t * lang,
    ipp_t * event);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>lang</tt></td><td>Language data
</td></tr>
<tr><td><tt>event</tt></td><td>Event data
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Subject string or NULL</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.2&nbsp;</span><a name='cupsNotifyText'>cupsNotifyText()</a></h3>
<h4>Description</h4>
<p>Return the text for the given notification message.
<p>The returned string must be freed by the caller using free().


<h4>Syntax</h4>
<p><tt>
char *<br>
cupsNotifyText(
    cups_lang_t * lang,
    ipp_t * event);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>lang</tt></td><td>Language data
</td></tr>
<tr><td><tt>event</tt></td><td>Event data
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Message text or NULL</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsParseOptions'>cupsParseOptions()</a></h3>
<h4>Description</h4>
<p>Parse options from a command-line argument.
<p>This function converts space-delimited name/value pairs according
to the PAPI text option ABNF specification. Collection values
(&quot;name={a=... b=... c=...}&quot;) are stored with the curley brackets
intact - use cupsParseOptions() on the value to extract the collection
attributes.
<h4>Syntax</h4>
<p><tt>
int<br>
cupsParseOptions(
    const char * arg,
    int num_options,
    <a href='#cups_option_t'>cups_option_t</a> ** options);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>arg</tt></td><td>Argument to parse
</td></tr>
<tr><td><tt>num_options</tt></td><td>Number of options
</td></tr>
<tr><td><tt>options</tt></td><td>Options found
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Number of options found</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsPrintFile'>cupsPrintFile()</a></h3>
<h4>Description</h4>
<p>Print a file to a printer or class on the default server.
<h4>Syntax</h4>
<p><tt>
int<br>
cupsPrintFile(
    const char * name,
    const char * filename,
    const char * title,
    int num_options,
    <a href='#cups_option_t'>cups_option_t</a> * options);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>name</tt></td><td>Printer or class name
</td></tr>
<tr><td><tt>filename</tt></td><td>File to print
</td></tr>
<tr><td><tt>title</tt></td><td>Title of job
</td></tr>
<tr><td><tt>num_options</tt></td><td>Number of options
</td></tr>
<tr><td><tt>options</tt></td><td>Options
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Job ID</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.1.21&nbsp;</span><a name='cupsPrintFile2'>cupsPrintFile2()</a></h3>
<h4>Description</h4>
<p>Print a file to a printer or class on the specified server.


<h4>Syntax</h4>
<p><tt>
int<br>
cupsPrintFile2(
    http_t * http,
    const char * name,
    const char * filename,
    const char * title,
    int num_options,
    <a href='#cups_option_t'>cups_option_t</a> * options);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>http</tt></td><td>HTTP connection
</td></tr>
<tr><td><tt>name</tt></td><td>Printer or class name
</td></tr>
<tr><td><tt>filename</tt></td><td>File to print
</td></tr>
<tr><td><tt>title</tt></td><td>Title of job
</td></tr>
<tr><td><tt>num_options</tt></td><td>Number of options
</td></tr>
<tr><td><tt>options</tt></td><td>Options
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Job ID</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsPrintFiles'>cupsPrintFiles()</a></h3>
<h4>Description</h4>
<p>Print one or more files to a printer or class on the
default server.
<h4>Syntax</h4>
<p><tt>
int<br>
cupsPrintFiles(
    const char * name,
    int num_files,
    const char ** files,
    const char * title,
    int num_options,
    <a href='#cups_option_t'>cups_option_t</a> * options);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>name</tt></td><td>Printer or class name
</td></tr>
<tr><td><tt>num_files</tt></td><td>Number of files
</td></tr>
<tr><td><tt>files</tt></td><td>File(s) to print
</td></tr>
<tr><td><tt>title</tt></td><td>Title of job
</td></tr>
<tr><td><tt>num_options</tt></td><td>Number of options
</td></tr>
<tr><td><tt>options</tt></td><td>Options
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Job ID</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.1.21&nbsp;</span><a name='cupsPrintFiles2'>cupsPrintFiles2()</a></h3>
<h4>Description</h4>
<p>Print one or more files to a printer or class on the
specified server.


<h4>Syntax</h4>
<p><tt>
int<br>
cupsPrintFiles2(
    http_t * http,
    const char * name,
    int num_files,
    const char ** files,
    const char * title,
    int num_options,
    <a href='#cups_option_t'>cups_option_t</a> * options);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>http</tt></td><td>HTTP connection or CUPS_HTTP_DEFAULT
</td></tr>
<tr><td><tt>name</tt></td><td>Printer or class name
</td></tr>
<tr><td><tt>num_files</tt></td><td>Number of files
</td></tr>
<tr><td><tt>files</tt></td><td>File(s) to print
</td></tr>
<tr><td><tt>title</tt></td><td>Title of job
</td></tr>
<tr><td><tt>num_options</tt></td><td>Number of options
</td></tr>
<tr><td><tt>options</tt></td><td>Options
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Job ID</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.1.20&nbsp;</span><a name='cupsPutFd'>cupsPutFd()</a></h3>
<h4>Description</h4>
<p>Put a file on the server.
<p>This function returns HTTP_CREATED when the file is stored successfully.


<h4>Syntax</h4>
<p><tt>
http_status_t<br>
cupsPutFd(
    http_t * http,
    const char * resource,
    int fd);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>http</tt></td><td>HTTP connection to server
</td></tr>
<tr><td><tt>resource</tt></td><td>Resource name
</td></tr>
<tr><td><tt>fd</tt></td><td>File descriptor
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>HTTP status</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.1.20&nbsp;</span><a name='cupsPutFile'>cupsPutFile()</a></h3>
<h4>Description</h4>
<p>Put a file on the server.
<p>This function returns HTTP_CREATED when the file is stored successfully.


<h4>Syntax</h4>
<p><tt>
http_status_t<br>
cupsPutFile(
    http_t * http,
    const char * resource,
    const char * filename);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>http</tt></td><td>HTTP connection to server
</td></tr>
<tr><td><tt>resource</tt></td><td>Resource name
</td></tr>
<tr><td><tt>filename</tt></td><td>Filename
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>HTTP status</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.3&nbsp;</span><a name='cupsRemoveDest'>cupsRemoveDest()</a></h3>
<h4>Description</h4>
<p>Remove a destination from the destination list.
<p>Removing a destination/instance does not delete the class or printer
queue, merely the lpoptions for that destination/instance.  Use the
cupsSetDests() or cupsSetDests2() functions to save the new options
for the user.


<h4>Syntax</h4>
<p><tt>
int<br>
cupsRemoveDest(
    const char * name,
    const char * instance,
    int num_dests,
    <a href='#cups_dest_t'>cups_dest_t</a> ** dests);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>name</tt></td><td>Destination name
</td></tr>
<tr><td><tt>instance</tt></td><td>Instance name or NULL
</td></tr>
<tr><td><tt>num_dests</tt></td><td>Number of destinations
</td></tr>
<tr><td><tt>dests</tt></td><td>Destinations
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>New number of destinations</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.2&nbsp;</span><a name='cupsRemoveOption'>cupsRemoveOption()</a></h3>
<h4>Description</h4>
<p>Remove an option from an option array.


<h4>Syntax</h4>
<p><tt>
int<br>
cupsRemoveOption(
    const char * name,
    int num_options,
    <a href='#cups_option_t'>cups_option_t</a> ** options);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>name</tt></td><td>Option name
</td></tr>
<tr><td><tt>num_options</tt></td><td>Current number of options
</td></tr>
<tr><td><tt>options</tt></td><td>Options
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>New number of options</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsServer'>cupsServer()</a></h3>
<h4>Description</h4>
<p>Return the hostname/address of the default server.
<p>The returned value can be a fully-qualified hostname, a numeric
IPv4 or IPv6 address, or a domain socket pathname.
<h4>Syntax</h4>
<p><tt>
const char *<br>
cupsServer(void);
</tt></p>
<h4>Arguments</h4>
<p>None.</p>
<h4>Returns</h4>
<p>Server name</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.3&nbsp;</span><a name='cupsSetDefaultDest'>cupsSetDefaultDest()</a></h3>
<h4>Description</h4>
<p>Set the default destination.


<h4>Syntax</h4>
<p><tt>
void<br>
cupsSetDefaultDest(
    const char * name,
    const char * instance,
    int num_dests,
    <a href='#cups_dest_t'>cups_dest_t</a> * dests);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>name</tt></td><td>Destination name
</td></tr>
<tr><td><tt>instance</tt></td><td>Instance name or NULL
</td></tr>
<tr><td><tt>num_dests</tt></td><td>Number of destinations
</td></tr>
<tr><td><tt>dests</tt></td><td>Destinations
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Nothing.</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsSetDests'>cupsSetDests()</a></h3>
<h4>Description</h4>
<p>Save the list of destinations for the default server.
<p>This function saves the destinations to /etc/cups/lpoptions when run
as root and ~/.cups/lpoptions when run as a normal user.
<h4>Syntax</h4>
<p><tt>
void<br>
cupsSetDests(
    int num_dests,
    <a href='#cups_dest_t'>cups_dest_t</a> * dests);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>num_dests</tt></td><td>Number of destinations
</td></tr>
<tr><td><tt>dests</tt></td><td>Destinations
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Nothing.</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.1.21&nbsp;</span><a name='cupsSetDests2'>cupsSetDests2()</a></h3>
<h4>Description</h4>
<p>Save the list of destinations for the specified server.
<p>This function saves the destinations to /etc/cups/lpoptions when run
as root and ~/.cups/lpoptions when run as a normal user.


<h4>Syntax</h4>
<p><tt>
int<br>
cupsSetDests2(
    http_t * http,
    int num_dests,
    <a href='#cups_dest_t'>cups_dest_t</a> * dests);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>http</tt></td><td>HTTP connection or CUPS_HTTP_DEFAULT
</td></tr>
<tr><td><tt>num_dests</tt></td><td>Number of destinations
</td></tr>
<tr><td><tt>dests</tt></td><td>Destinations
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>0 on success, -1 on error</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsSetEncryption'>cupsSetEncryption()</a></h3>
<h4>Description</h4>
<p>Set the encryption preference.
<h4>Syntax</h4>
<p><tt>
void<br>
cupsSetEncryption(
    http_encryption_t e);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>e</tt></td><td>New encryption preference
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Nothing.</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsSetPasswordCB'>cupsSetPasswordCB()</a></h3>
<h4>Description</h4>
<p>Set the password callback for CUPS.
<p>Pass NULL to restore the default (console) password callback.
<h4>Syntax</h4>
<p><tt>
void<br>
cupsSetPasswordCB(
    <a href='#cups_password_cb_t'>cups_password_cb_t</a> cb);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>cb</tt></td><td>Callback function
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Nothing.</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsSetServer'>cupsSetServer()</a></h3>
<h4>Description</h4>
<p>Set the default server name.
<p>The &quot;server&quot; string can be a fully-qualified hostname, a numeric
IPv4 or IPv6 address, or a domain socket pathname. Pass NULL to
restore the default server name.
<h4>Syntax</h4>
<p><tt>
void<br>
cupsSetServer(
    const char * server);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>server</tt></td><td>Server name
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Nothing.</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsSetUser'>cupsSetUser()</a></h3>
<h4>Description</h4>
<p>Set the default user name.
<p>Pass NULL to restore the default user name.
<h4>Syntax</h4>
<p><tt>
void<br>
cupsSetUser(
    const char * user);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>user</tt></td><td>User name
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Nothing.</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.4&nbsp;</span><a name='cupsStartDocument'>cupsStartDocument()</a></h3>
<h4>Description</h4>
<p>Add a document to a job created with cupsCreateJob().
<p>Use cupsWriteRequestData() to write data for the document and
cupsFinishDocument() to finish the document and get the submission status.
<p>The MIME type constants CUPS_FORMAT_AUTO, CUPS_FORMAT_PDF,
CUPS_FORMAT_POSTSCRIPT, CUPS_FORMAT_RAW, and CUPS_FORMAT_TEXT are provided
for the &quot;format&quot; argument, although any supported MIME type string can be
supplied.


<h4>Syntax</h4>
<p><tt>
http_status_t<br>
cupsStartDocument(
    http_t * http,
    const char * name,
    int job_id,
    const char * docname,
    const char * format,
    int last_document);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>http</tt></td><td>HTTP connection or CUPS_HTTP_DEFAULT
</td></tr>
<tr><td><tt>name</tt></td><td>Printer or class name
</td></tr>
<tr><td><tt>job_id</tt></td><td>Job ID from cupsCreateJob()
</td></tr>
<tr><td><tt>docname</tt></td><td>Name of document
</td></tr>
<tr><td><tt>format</tt></td><td>MIME type or CUPS_FORMAT_foo
</td></tr>
<tr><td><tt>last_document</tt></td><td>1 for last document in job, 0 otherwise
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>HTTP status of request</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsTempFd'>cupsTempFd()</a></h3>
<h4>Description</h4>
<p>Creates a temporary file.
<p>The temporary filename is returned in the filename buffer.
The temporary file is opened for reading and writing.
<h4>Syntax</h4>
<p><tt>
int<br>
cupsTempFd(
    char * filename,
    int len);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>filename</tt></td><td>Pointer to buffer
</td></tr>
<tr><td><tt>len</tt></td><td>Size of buffer
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>New file descriptor or -1 on error</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;DEPRECATED&nbsp;</span><a name='cupsTempFile'>cupsTempFile()</a></h3>
<h4>Description</h4>
<p>Generates a temporary filename.
<p>The temporary filename is returned in the filename buffer.
This function is deprecated - use cupsTempFd() or cupsTempFile2()
instead.


<h4>Syntax</h4>
<p><tt>
char *<br>
cupsTempFile(
    char * filename,
    int len);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>filename</tt></td><td>Pointer to buffer
</td></tr>
<tr><td><tt>len</tt></td><td>Size of buffer
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>Filename or NULL on error</p>
<!-- NEW PAGE -->
<h3 class='title'><span class='info'>&nbsp;CUPS 1.2&nbsp;</span><a name='cupsTempFile2'>cupsTempFile2()</a></h3>
<h4>Description</h4>
<p>Creates a temporary CUPS file.
<p>The temporary filename is returned in the filename buffer.
The temporary file is opened for writing.


<h4>Syntax</h4>
<p><tt>
cups_file_t *<br>
cupsTempFile2(
    char * filename,
    int len);
</tt></p>
<h4>Arguments</h4>
<div class='table'><table align='center' border='1' width='80%' cellpadding='5' cellspacing='0' summary='Arguments'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>filename</tt></td><td>Pointer to buffer
</td></tr>
<tr><td><tt>len</tt></td><td>Size of buffer
</td></tr>
</tbody></table></div>
<h4>Returns</h4>
<p>CUPS file or NULL on error</p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cupsUser'>cupsUser()</a></h3>
<h4>Description</h4>
<p>Return the current user's name.
<h4>Syntax</h4>
<p><tt>
const char *<br>
cupsUser(void);
</tt></p>
<h4>Arguments</h4>
<p>None.</p>
<h4>Returns</h4>
<p>User name</p>
<!-- NEW PAGE -->
<h2 class='title'><a name='STRUCTURES'>Structures</a></h2>
<ul>
	<li><a href='#cups_dest_s'><tt>cups_dest_s</tt></a> </li>
	<li><a href='#cups_job_s'><tt>cups_job_s</tt></a> </li>
	<li><a href='#cups_option_s'><tt>cups_option_s</tt></a> </li>
</ul>
<!-- NEW PAGE -->
<h3 class='title'><a name='cups_dest_s'>cups_dest_s</a></h3>
<h4>Description</h4>
<p>Destination
<h4>Definition</h4>
<p><tt>
struct cups_dest_s<br>
{<br>
&nbsp;&nbsp;char *name, * instance;<br>
&nbsp;&nbsp;int is_default;<br>
&nbsp;&nbsp;int num_options;<br>
&nbsp;&nbsp;<a href='#cups_option_t'>cups_option_t</a> * options;<br>
};</tt></p>
<h4>Members</h4>
<div class='table'><table align='center' border='1' width='80%' summary='Members'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>instance</tt> </td><td>Local instance name or NULL
</td></tr>
<tr><td><tt>is_default</tt> </td><td>Is this printer the default?
</td></tr>
<tr><td><tt>num_options</tt> </td><td>Number of options
</td></tr>
<tr><td><tt>options</tt> </td><td>Options
</td></tr>
</tbody></table></div>
<!-- NEW PAGE -->
<h3 class='title'><a name='cups_job_s'>cups_job_s</a></h3>
<h4>Description</h4>
<p>Job
<h4>Definition</h4>
<p><tt>
struct cups_job_s<br>
{<br>
&nbsp;&nbsp;time_t completed_time;<br>
&nbsp;&nbsp;time_t creation_time;<br>
&nbsp;&nbsp;char * dest;<br>
&nbsp;&nbsp;char * format;<br>
&nbsp;&nbsp;int id;<br>
&nbsp;&nbsp;int priority;<br>
&nbsp;&nbsp;time_t processing_time;<br>
&nbsp;&nbsp;int size;<br>
&nbsp;&nbsp;ipp_jstate_t state;<br>
&nbsp;&nbsp;char * title;<br>
&nbsp;&nbsp;char * user;<br>
};</tt></p>
<h4>Members</h4>
<div class='table'><table align='center' border='1' width='80%' summary='Members'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>completed_time</tt> </td><td>Time the job was completed
</td></tr>
<tr><td><tt>creation_time</tt> </td><td>Time the job was created
</td></tr>
<tr><td><tt>dest</tt> </td><td>Printer or class name
</td></tr>
<tr><td><tt>format</tt> </td><td>Document format
</td></tr>
<tr><td><tt>id</tt> </td><td>The job ID
</td></tr>
<tr><td><tt>priority</tt> </td><td>Priority (1-100)
</td></tr>
<tr><td><tt>processing_time</tt> </td><td>Time the job was processed
</td></tr>
<tr><td><tt>size</tt> </td><td>Size in kilobytes
</td></tr>
<tr><td><tt>state</tt> </td><td>Job state
</td></tr>
<tr><td><tt>title</tt> </td><td>Title/job name
</td></tr>
<tr><td><tt>user</tt> </td><td>User the submitted the job
</td></tr>
</tbody></table></div>
<!-- NEW PAGE -->
<h3 class='title'><a name='cups_option_s'>cups_option_s</a></h3>
<h4>Description</h4>
<p>Printer Options
<h4>Definition</h4>
<p><tt>
struct cups_option_s<br>
{<br>
&nbsp;&nbsp;char * name;<br>
&nbsp;&nbsp;char * value;<br>
};</tt></p>
<h4>Members</h4>
<div class='table'><table align='center' border='1' width='80%' summary='Members'>
<thead><tr><th>Name</th><th>Description</th></tr></thead>
<tbody>
<tr><td><tt>name</tt> </td><td>Name of option
</td></tr>
<tr><td><tt>value</tt> </td><td>Value of option
</td></tr>
</tbody></table></div>
<!-- NEW PAGE -->
<h2 class='title'><a name='TYPES'>Types</a></h2>
<ul>
	<li><a href='#cups_dest_t'><tt>cups_dest_t</tt></a> </li>
	<li><a href='#cups_job_t'><tt>cups_job_t</tt></a> </li>
	<li><a href='#cups_option_t'><tt>cups_option_t</tt></a> </li>
	<li><a href='#cups_password_cb_t'><tt>cups_password_cb_t</tt></a> </li>
	<li><a href='#cups_ptype_t'><tt>cups_ptype_t</tt></a> </li>
</ul>
<!-- NEW PAGE -->
<h3 class='title'><a name='cups_dest_t'>cups_dest_t</a></h3>
<h4>Description</h4>
<p>Destination
<h4>Definition</h4>
<p><tt>
typedef struct <a href='#cups_dest_s'>cups_dest_s</a> cups_dest_t;
</tt></p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cups_job_t'>cups_job_t</a></h3>
<h4>Description</h4>
<p>Job
<h4>Definition</h4>
<p><tt>
typedef struct <a href='#cups_job_s'>cups_job_s</a> cups_job_t;
</tt></p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cups_option_t'>cups_option_t</a></h3>
<h4>Description</h4>
<p>Printer Options
<h4>Definition</h4>
<p><tt>
typedef struct <a href='#cups_option_s'>cups_option_s</a> cups_option_t;
</tt></p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cups_password_cb_t'>cups_password_cb_t</a></h3>
<h4>Description</h4>
<p>Password callback
<h4>Definition</h4>
<p><tt>
typedef const char * (*cups_password_cb_t)(const char *);
</tt></p>
<!-- NEW PAGE -->
<h3 class='title'><a name='cups_ptype_t'>cups_ptype_t</a></h3>
<h4>Description</h4>
<p>Printer Type/Capability Bits
<h4>Definition</h4>
<p><tt>
typedef unsigned cups_ptype_t;
</tt></p>
</body>
</html>
